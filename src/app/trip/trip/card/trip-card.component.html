<ion-card [color]="color" tappable>
  <ion-card-header>
    <!-- program -->
    <ion-card-subtitle>
      @if (showProgram && value.program | isNotEmptyReferential) {
        {{ value.program.label || value.program.name }}
      }
      <app-entity-quality-badge class="ion-float-end" [value]="value" size="small"></app-entity-quality-badge>
    </ion-card-subtitle>

    <!-- vessel -->
    <ion-card-title>
      <span
        [innerHTML]="
          'TRIP.EDIT.TITLE'
            | translate
              : {
                  vessel: value.vesselSnapshot | referentialToString: config.vesselSnapshot?.attributes,
                  departureDateTime: value.departureDateTime | dateFormat: { pattern: 'ddd D MMM' },
                }
        "
      ></span>
    </ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <p>
      <ion-icon name="location"></ion-icon>
      <strong>{{ 'TRIP.CARD.DEPARTURE_DOTS' | translate }}</strong>
      {{ value.departureLocation?.name }},
      <strong>{{ value.departureDateTime | dateFromNow }}</strong>

      <!-- return location -->
      @if (value.returnLocation && value.departureLocation.id !== value.returnLocation?.id) {
        <ion-icon name="arrow-forward"></ion-icon>
        <strong>{{ 'TRIP.CARD.RETURN_DOTS' | translate }}</strong>
        {{ value.returnLocation?.name }}
      }
    </p>

    <!-- recorder name -->
    @if (showRecorder) {
      <p>
        <ion-icon name="person"></ion-icon>
        {{ value.recorderPerson | personToString: null : { withDepartment: showRecorderDepartment } }}
      </p>
    }
    @if (showUpdateDate) {
      <p>
        <ion-icon name="time"></ion-icon>
        {{ 'COMMON.UPDATED_ON' | translate }} {{ value.updateDate | dateFormat: { time: true } }}
      </p>
    }

    @if (showComments && value.comments) {
      <p>
        <ion-icon name="chatbox"></ion-icon>
        {{ value.comments }}
      </p>
    }
  </ion-card-content>

  <!--@if (delete.observed) {
    <ion-button fill="clear">
      <mat-icon slot="icon-only" (click)="delete.emit($event)">delete</mat-icon>
    </ion-button>
  }-->
  @if (synchronize.observed && value.synchronizationStatus === 'READY_TO_SYNC' && value.id < 0) {
    <ion-button fill="clear" (click)="synchronize.emit($event)">
      {{ 'QUALITY.BTN_SYNCHRONIZE' | translate }}
    </ion-button>
  }

  <!--<ion-footer>
    <ion-toolbar>
      <ion-buttons slot="start">

      </ion-buttons>

    </ion-toolbar>
  </ion-footer>-->
</ion-card>
