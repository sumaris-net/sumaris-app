<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />

    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" content="#4e8ef7" />
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width, minimal-ui"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <title id="appTitle">Loading...</title>
    <link id="appFavicon" rel="icon" type="image/x-icon" href="./favicon.ico" />

    <link rel="manifest" href="./manifest.json" />

    <base href="/" />

    <!-- configure browser cache (need to load new version without reloading) -->
    <meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="If-Modified-Since" content="0" />

    <link href="./assets/css/loading.css" rel="stylesheet" />

    <meta property="og:title" content="SUMARiS App" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Online database for fisheries data collection." />
    <meta property="og:image" content="./assets/img/logo-menu2.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:height" content="211" />
    <meta property="og:image:width" content="283" />
    <meta property="og:site_name" content="SUMARiS App" />
    <meta property="og:locale" content="en_GB" />
    <meta property="og:locale:alternate" content="en_US" />
    <meta property="og:locale:alternate" content="fr_FR" />
  </head>

  <body>
    <!-- Ionic's root component and where the app will load -->
    <app-root>
      <div class="loading-page">
        <div class="spinner">
          <p id="loadingText"></p>
          <div class="sk-cube1 sk-cube"></div>
          <div class="sk-cube2 sk-cube"></div>
          <div class="sk-cube4 sk-cube"></div>
          <div class="sk-cube3 sk-cube"></div>
        </div>
      </div>

      <!-- Translate the loading text -->
      <script type="text/javascript">
        var userLang = navigator.language || navigator.userLanguage;
        console.debug('[loading-page] Detected lang: ' + userLang);
        var loadingText = userLang && userLang.startsWith('fr') ? 'Chargement...' : 'Loading...';
        document.getElementById('loadingText').innerText = loadingText;
        document.getElementById('appTitle').innerText = loadingText;
      </script>
    </app-root>
  </body>
</html>
